<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://www.mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bincai.cloud.cust.domain.dao.CustomerMapper" >
  <resultMap id="BaseResultMap" type="com.bincai.cloud.cust.domain.model.Customer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 08 13:34:57 CST 2016.
    -->
    <id column="id" property="id" jdbcType="VARCHAR" />
    <result column="type_id" property="typeId" jdbcType="INTEGER" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="des" property="des" jdbcType="VARCHAR" />
    <result column="sex_id" property="sexId" jdbcType="INTEGER" />
    <result column="birthday" property="birthday" jdbcType="DATE" />
    <result column="id_card_no" property="idCardNo" jdbcType="VARCHAR" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="mobile" property="mobile" jdbcType="VARCHAR" />
    <result column="tel" property="tel" jdbcType="VARCHAR" />
    <result column="country_id" property="countryId" jdbcType="INTEGER" />
    <result column="nation_id" property="nationId" jdbcType="INTEGER" />
    <result column="language_id" property="languageId" jdbcType="INTEGER" />
    <result column="politics_id" property="politicsId" jdbcType="INTEGER" />
    <result column="education_id" property="educationId" jdbcType="INTEGER" />
    <result column="degree_id" property="degreeId" jdbcType="INTEGER" />
    <result column="occupation_id" property="occupationId" jdbcType="INTEGER" />
    <result column="org_name" property="orgName" jdbcType="VARCHAR" />
    <result column="married_flag" property="marriedFlag" jdbcType="INTEGER" />
    <result column="regist_org_id" property="registOrgId" jdbcType="INTEGER" />
    <result column="regist_org_code" property="registOrgCode" jdbcType="VARCHAR" />
    <result column="regist_time" property="registTime" jdbcType="TIMESTAMP" />
    <result column="main_index_flag" property="mainIndexFlag" jdbcType="BIT" />
    <result column="spell_no" property="spellNo" jdbcType="VARCHAR" />
    <result column="wubi_no" property="wubiNo" jdbcType="VARCHAR" />
    <result column="version_no" property="versionNo" jdbcType="INTEGER" />
    <result column="created_by_id" property="createdById" jdbcType="BIGINT" />
    <result column="created_time" property="createdTime" jdbcType="TIMESTAMP" />
    <result column="last_updated_by_id" property="lastUpdatedById" jdbcType="BIGINT" />
    <result column="last_updated_time" property="lastUpdatedTime" jdbcType="TIMESTAMP" />
    <result column="deleted_flag" property="deletedFlag" jdbcType="BIT" />
    <result column="nickname" property="nickname" jdbcType="VARCHAR" />
    <result column="liveState_id" property="livestateId" jdbcType="INTEGER" />
    <result column="liveOrgState_id" property="liveorgstateId" jdbcType="INTEGER" />
    <result column="occupation_other" property="occupationOther" jdbcType="VARCHAR" />
    <result column="religion_id" property="religionId" jdbcType="INTEGER" />
    <result column="interCulture_id" property="intercultureId" jdbcType="VARCHAR" />
    <result column="interSports_id" property="intersportsId" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 08 13:34:57 CST 2016.
    -->
    id, type_id, code, name, des, sex_id, birthday, id_card_no, email, mobile, tel, country_id, 
    nation_id, language_id, politics_id, education_id, degree_id, occupation_id, org_name, 
    married_flag, regist_org_id, regist_org_code, regist_time, main_index_flag, spell_no, 
    wubi_no, version_no, created_by_id, created_time, last_updated_by_id, last_updated_time, 
    deleted_flag, nickname, liveState_id, liveOrgState_id, occupation_other, religion_id, 
    interCulture_id, interSports_id
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 08 13:34:57 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from cu_customer
    where id = #{id,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 08 13:34:57 CST 2016.
    -->
    delete from cu_customer
    where id = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.bincai.cloud.cust.domain.model.Customer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 08 13:34:57 CST 2016.
    -->
    insert into cu_customer (id, type_id, code, 
      name, des, sex_id, birthday, 
      id_card_no, email, mobile, 
      tel, country_id, nation_id, 
      language_id, politics_id, education_id, 
      degree_id, occupation_id, org_name, 
      married_flag, regist_org_id, regist_org_code, 
      regist_time, main_index_flag, spell_no, 
      wubi_no, version_no, created_by_id, 
      created_time, last_updated_by_id, last_updated_time, 
      deleted_flag, nickname, liveState_id, 
      liveOrgState_id, occupation_other, religion_id, 
      interCulture_id, interSports_id)
    values (#{id,jdbcType=VARCHAR}, #{typeId,jdbcType=INTEGER}, #{code,jdbcType=VARCHAR}, 
      #{name,jdbcType=VARCHAR}, #{des,jdbcType=VARCHAR}, #{sexId,jdbcType=INTEGER}, #{birthday,jdbcType=DATE}, 
      #{idCardNo,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR}, #{mobile,jdbcType=VARCHAR}, 
      #{tel,jdbcType=VARCHAR}, #{countryId,jdbcType=INTEGER}, #{nationId,jdbcType=INTEGER}, 
      #{languageId,jdbcType=INTEGER}, #{politicsId,jdbcType=INTEGER}, #{educationId,jdbcType=INTEGER}, 
      #{degreeId,jdbcType=INTEGER}, #{occupationId,jdbcType=INTEGER}, #{orgName,jdbcType=VARCHAR}, 
      #{marriedFlag,jdbcType=INTEGER}, #{registOrgId,jdbcType=INTEGER}, #{registOrgCode,jdbcType=VARCHAR}, 
      #{registTime,jdbcType=TIMESTAMP}, #{mainIndexFlag,jdbcType=BIT}, #{spellNo,jdbcType=VARCHAR}, 
      #{wubiNo,jdbcType=VARCHAR}, #{versionNo,jdbcType=INTEGER}, #{createdById,jdbcType=BIGINT}, 
      #{createdTime,jdbcType=TIMESTAMP}, #{lastUpdatedById,jdbcType=BIGINT}, #{lastUpdatedTime,jdbcType=TIMESTAMP}, 
      #{deletedFlag,jdbcType=BIT}, #{nickname,jdbcType=VARCHAR}, #{livestateId,jdbcType=INTEGER}, 
      #{liveorgstateId,jdbcType=INTEGER}, #{occupationOther,jdbcType=VARCHAR}, #{religionId,jdbcType=INTEGER}, 
      #{intercultureId,jdbcType=VARCHAR}, #{intersportsId,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.bincai.cloud.cust.domain.model.Customer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 08 13:34:57 CST 2016.
    -->
    insert into cu_customer
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="typeId != null" >
        type_id,
      </if>
      <if test="code != null" >
        code,
      </if>
      <if test="name != null" >
        name,
      </if>
      <if test="des != null" >
        des,
      </if>
      <if test="sexId != null" >
        sex_id,
      </if>
      <if test="birthday != null" >
        birthday,
      </if>
      <if test="idCardNo != null" >
        id_card_no,
      </if>
      <if test="email != null" >
        email,
      </if>
      <if test="mobile != null" >
        mobile,
      </if>
      <if test="tel != null" >
        tel,
      </if>
      <if test="countryId != null" >
        country_id,
      </if>
      <if test="nationId != null" >
        nation_id,
      </if>
      <if test="languageId != null" >
        language_id,
      </if>
      <if test="politicsId != null" >
        politics_id,
      </if>
      <if test="educationId != null" >
        education_id,
      </if>
      <if test="degreeId != null" >
        degree_id,
      </if>
      <if test="occupationId != null" >
        occupation_id,
      </if>
      <if test="orgName != null" >
        org_name,
      </if>
      <if test="marriedFlag != null" >
        married_flag,
      </if>
      <if test="registOrgId != null" >
        regist_org_id,
      </if>
      <if test="registOrgCode != null" >
        regist_org_code,
      </if>
      <if test="registTime != null" >
        regist_time,
      </if>
      <if test="mainIndexFlag != null" >
        main_index_flag,
      </if>
      <if test="spellNo != null" >
        spell_no,
      </if>
      <if test="wubiNo != null" >
        wubi_no,
      </if>
      <if test="versionNo != null" >
        version_no,
      </if>
      <if test="createdById != null" >
        created_by_id,
      </if>
      <if test="createdTime != null" >
        created_time,
      </if>
      <if test="lastUpdatedById != null" >
        last_updated_by_id,
      </if>
      <if test="lastUpdatedTime != null" >
        last_updated_time,
      </if>
      <if test="deletedFlag != null" >
        deleted_flag,
      </if>
      <if test="nickname != null" >
        nickname,
      </if>
      <if test="livestateId != null" >
        liveState_id,
      </if>
      <if test="liveorgstateId != null" >
        liveOrgState_id,
      </if>
      <if test="occupationOther != null" >
        occupation_other,
      </if>
      <if test="religionId != null" >
        religion_id,
      </if>
      <if test="intercultureId != null" >
        interCulture_id,
      </if>
      <if test="intersportsId != null" >
        interSports_id,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="typeId != null" >
        #{typeId,jdbcType=INTEGER},
      </if>
      <if test="code != null" >
        #{code,jdbcType=VARCHAR},
      </if>
      <if test="name != null" >
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="des != null" >
        #{des,jdbcType=VARCHAR},
      </if>
      <if test="sexId != null" >
        #{sexId,jdbcType=INTEGER},
      </if>
      <if test="birthday != null" >
        #{birthday,jdbcType=DATE},
      </if>
      <if test="idCardNo != null" >
        #{idCardNo,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null" >
        #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="tel != null" >
        #{tel,jdbcType=VARCHAR},
      </if>
      <if test="countryId != null" >
        #{countryId,jdbcType=INTEGER},
      </if>
      <if test="nationId != null" >
        #{nationId,jdbcType=INTEGER},
      </if>
      <if test="languageId != null" >
        #{languageId,jdbcType=INTEGER},
      </if>
      <if test="politicsId != null" >
        #{politicsId,jdbcType=INTEGER},
      </if>
      <if test="educationId != null" >
        #{educationId,jdbcType=INTEGER},
      </if>
      <if test="degreeId != null" >
        #{degreeId,jdbcType=INTEGER},
      </if>
      <if test="occupationId != null" >
        #{occupationId,jdbcType=INTEGER},
      </if>
      <if test="orgName != null" >
        #{orgName,jdbcType=VARCHAR},
      </if>
      <if test="marriedFlag != null" >
        #{marriedFlag,jdbcType=INTEGER},
      </if>
      <if test="registOrgId != null" >
        #{registOrgId,jdbcType=INTEGER},
      </if>
      <if test="registOrgCode != null" >
        #{registOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="registTime != null" >
        #{registTime,jdbcType=TIMESTAMP},
      </if>
      <if test="mainIndexFlag != null" >
        #{mainIndexFlag,jdbcType=BIT},
      </if>
      <if test="spellNo != null" >
        #{spellNo,jdbcType=VARCHAR},
      </if>
      <if test="wubiNo != null" >
        #{wubiNo,jdbcType=VARCHAR},
      </if>
      <if test="versionNo != null" >
        #{versionNo,jdbcType=INTEGER},
      </if>
      <if test="createdById != null" >
        #{createdById,jdbcType=BIGINT},
      </if>
      <if test="createdTime != null" >
        #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastUpdatedById != null" >
        #{lastUpdatedById,jdbcType=BIGINT},
      </if>
      <if test="lastUpdatedTime != null" >
        #{lastUpdatedTime,jdbcType=TIMESTAMP},
      </if>
      <if test="deletedFlag != null" >
        #{deletedFlag,jdbcType=BIT},
      </if>
      <if test="nickname != null" >
        #{nickname,jdbcType=VARCHAR},
      </if>
      <if test="livestateId != null" >
        #{livestateId,jdbcType=INTEGER},
      </if>
      <if test="liveorgstateId != null" >
        #{liveorgstateId,jdbcType=INTEGER},
      </if>
      <if test="occupationOther != null" >
        #{occupationOther,jdbcType=VARCHAR},
      </if>
      <if test="religionId != null" >
        #{religionId,jdbcType=INTEGER},
      </if>
      <if test="intercultureId != null" >
        #{intercultureId,jdbcType=VARCHAR},
      </if>
      <if test="intersportsId != null" >
        #{intersportsId,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.bincai.cloud.cust.domain.model.Customer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 08 13:34:57 CST 2016.
    -->
    update cu_customer
    <set >
      <if test="typeId != null" >
        type_id = #{typeId,jdbcType=INTEGER},
      </if>
      <if test="code != null" >
        code = #{code,jdbcType=VARCHAR},
      </if>
      <if test="name != null" >
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="des != null" >
        des = #{des,jdbcType=VARCHAR},
      </if>
      <if test="sexId != null" >
        sex_id = #{sexId,jdbcType=INTEGER},
      </if>
      <if test="birthday != null" >
        birthday = #{birthday,jdbcType=DATE},
      </if>
      <if test="idCardNo != null" >
        id_card_no = #{idCardNo,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null" >
        mobile = #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="tel != null" >
        tel = #{tel,jdbcType=VARCHAR},
      </if>
      <if test="countryId != null" >
        country_id = #{countryId,jdbcType=INTEGER},
      </if>
      <if test="nationId != null" >
        nation_id = #{nationId,jdbcType=INTEGER},
      </if>
      <if test="languageId != null" >
        language_id = #{languageId,jdbcType=INTEGER},
      </if>
      <if test="politicsId != null" >
        politics_id = #{politicsId,jdbcType=INTEGER},
      </if>
      <if test="educationId != null" >
        education_id = #{educationId,jdbcType=INTEGER},
      </if>
      <if test="degreeId != null" >
        degree_id = #{degreeId,jdbcType=INTEGER},
      </if>
      <if test="occupationId != null" >
        occupation_id = #{occupationId,jdbcType=INTEGER},
      </if>
      <if test="orgName != null" >
        org_name = #{orgName,jdbcType=VARCHAR},
      </if>
      <if test="marriedFlag != null" >
        married_flag = #{marriedFlag,jdbcType=INTEGER},
      </if>
      <if test="registOrgId != null" >
        regist_org_id = #{registOrgId,jdbcType=INTEGER},
      </if>
      <if test="registOrgCode != null" >
        regist_org_code = #{registOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="registTime != null" >
        regist_time = #{registTime,jdbcType=TIMESTAMP},
      </if>
      <if test="mainIndexFlag != null" >
        main_index_flag = #{mainIndexFlag,jdbcType=BIT},
      </if>
      <if test="spellNo != null" >
        spell_no = #{spellNo,jdbcType=VARCHAR},
      </if>
      <if test="wubiNo != null" >
        wubi_no = #{wubiNo,jdbcType=VARCHAR},
      </if>
      <if test="versionNo != null" >
        version_no = #{versionNo,jdbcType=INTEGER},
      </if>
      <if test="createdById != null" >
        created_by_id = #{createdById,jdbcType=BIGINT},
      </if>
      <if test="createdTime != null" >
        created_time = #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastUpdatedById != null" >
        last_updated_by_id = #{lastUpdatedById,jdbcType=BIGINT},
      </if>
      <if test="lastUpdatedTime != null" >
        last_updated_time = #{lastUpdatedTime,jdbcType=TIMESTAMP},
      </if>
      <if test="deletedFlag != null" >
        deleted_flag = #{deletedFlag,jdbcType=BIT},
      </if>
      <if test="nickname != null" >
        nickname = #{nickname,jdbcType=VARCHAR},
      </if>
      <if test="livestateId != null" >
        liveState_id = #{livestateId,jdbcType=INTEGER},
      </if>
      <if test="liveorgstateId != null" >
        liveOrgState_id = #{liveorgstateId,jdbcType=INTEGER},
      </if>
      <if test="occupationOther != null" >
        occupation_other = #{occupationOther,jdbcType=VARCHAR},
      </if>
      <if test="religionId != null" >
        religion_id = #{religionId,jdbcType=INTEGER},
      </if>
      <if test="intercultureId != null" >
        interCulture_id = #{intercultureId,jdbcType=VARCHAR},
      </if>
      <if test="intersportsId != null" >
        interSports_id = #{intersportsId,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.bincai.cloud.cust.domain.model.Customer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 08 13:34:57 CST 2016.
    -->
    update cu_customer
    set type_id = #{typeId,jdbcType=INTEGER},
      code = #{code,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      des = #{des,jdbcType=VARCHAR},
      sex_id = #{sexId,jdbcType=INTEGER},
      birthday = #{birthday,jdbcType=DATE},
      id_card_no = #{idCardNo,jdbcType=VARCHAR},
      email = #{email,jdbcType=VARCHAR},
      mobile = #{mobile,jdbcType=VARCHAR},
      tel = #{tel,jdbcType=VARCHAR},
      country_id = #{countryId,jdbcType=INTEGER},
      nation_id = #{nationId,jdbcType=INTEGER},
      language_id = #{languageId,jdbcType=INTEGER},
      politics_id = #{politicsId,jdbcType=INTEGER},
      education_id = #{educationId,jdbcType=INTEGER},
      degree_id = #{degreeId,jdbcType=INTEGER},
      occupation_id = #{occupationId,jdbcType=INTEGER},
      org_name = #{orgName,jdbcType=VARCHAR},
      married_flag = #{marriedFlag,jdbcType=INTEGER},
      regist_org_id = #{registOrgId,jdbcType=INTEGER},
      regist_org_code = #{registOrgCode,jdbcType=VARCHAR},
      regist_time = #{registTime,jdbcType=TIMESTAMP},
      main_index_flag = #{mainIndexFlag,jdbcType=BIT},
      spell_no = #{spellNo,jdbcType=VARCHAR},
      wubi_no = #{wubiNo,jdbcType=VARCHAR},
      version_no = #{versionNo,jdbcType=INTEGER},
      created_by_id = #{createdById,jdbcType=BIGINT},
      created_time = #{createdTime,jdbcType=TIMESTAMP},
      last_updated_by_id = #{lastUpdatedById,jdbcType=BIGINT},
      last_updated_time = #{lastUpdatedTime,jdbcType=TIMESTAMP},
      deleted_flag = #{deletedFlag,jdbcType=BIT},
      nickname = #{nickname,jdbcType=VARCHAR},
      liveState_id = #{livestateId,jdbcType=INTEGER},
      liveOrgState_id = #{liveorgstateId,jdbcType=INTEGER},
      occupation_other = #{occupationOther,jdbcType=VARCHAR},
      religion_id = #{religionId,jdbcType=INTEGER},
      interCulture_id = #{intercultureId,jdbcType=VARCHAR},
      interSports_id = #{intersportsId,jdbcType=VARCHAR}
    where id = #{id,jdbcType=VARCHAR}
  </update>
    <delete id="delete" parameterType="java.lang.String"  >
	update cu_customer set deleted_flag = 1
	where id = #{id,jdbcType=VARCHAR} 
	and deleted_flag = 0
	
  </delete>
  
  <select id="selectById" parameterType="java.lang.String" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from cu_customer
		where id = #{id,jdbcType=VARCHAR}
		AND deleted_flag=0
	</select>
	   <select id="selectByCondition" parameterType="com.bincai.cloud.cust.domain.model.Customer" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from cu_customer
		<where>
			1=1		
			<if test="name != null  and name !=''and name!='null'">
				AND name like "%"#{name,jdbcType=VARCHAR}"%"
			</if>
			<if test="sexId != null  and sexId !=''and sexId!='null'">
				AND sex_id = #{sexId,jdbcType=INTEGER} 
			</if>	
			<if test="idCardNo != null  and idCardNo !=''and idCardNo!='null'">
				AND id_card_no = #{idCardNo,jdbcType=VARCHAR} 
			</if>			
			AND deleted_flag=0
			order by id desc
            <if test="offset !=null and pageSize !=null and offset >=0 and pageSize >=0">
	 	      limit #{offset},#{pageSize}
	        </if>
		</where>
	</select>
	
	<select id="searchCount" parameterType="com.bincai.cloud.cust.domain.model.Customer" resultType="java.lang.Integer">
	  select 
	  count(1)
	  from cu_customer
	  <where>    
	    1=1   
			<if test="name != null  and name !=''and name!='null'">
				AND name like "%"#{name,jdbcType=VARCHAR}"%"
			</if>		
			AND deleted_flag=0
	  </where>
	</select>
</mapper>